<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="../css/style.css" />
        <meta charset="utf-8" />
        <title>Профиль</title>
    </head>

    <body>
        <div class="head">
            <div class="logo-title">
                <img src="../image/лого.png" alt="Логотип" class="logo-img" />
                <div class="logo-text">
                    <span>Расписание</span><br />
                    <span>УРТК</span>
                </div>
            </div>
            <a class="head_button" href="my-schedule.html">
            <svg
                style="margin-top: 8px; margin-left: 10px; margin-right: 15px"
                xmlns="http://www.w3.org/2000/svg"
                width="30"
                height="30"
                viewBox="0 0 24 24"
                fill="none"
                stroke="white"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-house w-5 h-5">
                <path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"></path>
                <path
                d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            </svg>
            <p>Главная</p>
            </a>
            <a class="head_button1" href="all_rasp.html">
            <svg
                style="margin-top: 8px; margin-left: 10px; margin-right: 15px"
                xmlns="http://www.w3.org/2000/svg"
                width="30"
                height="30"
                viewBox="0 0 24 24"
                fill="none"
                stroke="white"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-calendar-days w-5 h-5">
                <path d="M8 2v4"></path>
                <path d="M16 2v4"></path>
                <rect width="18" height="18" x="3" y="4" rx="2"></rect>
                <path d="M3 10h18"></path>
                <path d="M8 14h.01"></path>
                <path d="M12 14h.01"></path>
                <path d="M16 14h.01"></path>
                <path d="M8 18h.01"></path>
                <path d="M12 18h.01"></path>
                <path d="M16 18h.01"></path>
            </svg>
            <p>Все расписания</p>
            </a>
            <a class="head_button" href="home-work.html">
            <svg
                style="margin-top: 9px; margin-left: 10px; margin-right: 15px"
                class="w-6 h-6 text-gray-800 dark:text-white"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="30"
                height="30"
                fill="none"
                viewBox="0 0 24 24">
                <path
                    stroke="white"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 6.03v13m0-13c-2.819-.831-4.715-1.076-8.029-1.023A.99.99 0 0 0 3 6v11c0 .563.466 1.014 1.03 1.007 3.122-.043 5.018.212 7.97 1.023m0-13c2.819-.831 4.715-1.076 8.029-1.023A.99.99 0 0 1 21 6v11c0 .563-.466 1.014-1.03 1.007-3.122-.043-5.018.212-7.97 1.023" />
            </svg>
            <p>Домашнее задание</p>
            </a>
            <a class="head_button" href="my-progress.html">
            <svg
                style="margin-top: 8px; margin-left: 10px; margin-right: 15px"
                class="w-6 h-6 text-gray-800 dark:text-white"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="30"
                height="30"
                fill="none"
                viewBox="0 0 24 24">
                <path
                    stroke="white"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M17.651 7.65a7.131 7.131 0 0 0-12.68 3.15M18.001 4v4h-4m-7.652 8.35a7.13 7.13 0 0 0 12.68-3.15M6 20v-4h4" />
            </svg>
            <p>Успеваемость</p>
            </a>
            <div class="spacer"></div>
            <a class="head_button profile-button" href="profile.html">
            <svg
                style="margin-top: 8px; margin-left: 10px; margin-right: 15px"
                xmlns="http://www.w3.org/2000/svg"
                width="30"
                height="30"
                viewBox="0 0 24 24"
                fill="none"
                stroke="white"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-user w-5 h-5">
                <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
        <p>Профиль</p>
        </a>
    </div>
    <div class="profile_div">
        <h2 class="h2-h">Профиль</h2>
        <form>
            <div class="my-date">
            <h4
                style="
                color: white;
                font-family: 'Inter', sans-serif;
                margin-left: 3%;
                ">Личные данные
            </h4>
            <p
                style="
                margin-bottom: 0%;
                color: white;
                font-family: 'Inter', sans-serif;
                margin-left: 3%;
                font-size: 13px;
                margin-bottom: 5px;
                ">Имя
            </p>
            <input class="input" type="text" value="" placeholder="Ваше имя">
            <p
                style="
                margin-bottom: 0%;
                color: white;
                font-family: 'Inter', sans-serif;
                margin-left: 3%;
                font-size: 13px;
                margin-bottom: 5px;
                ">Email
            </p>
            <input class="input" type="text" value="" placeholder="Ваш Email" />
        </div>
        <div class="my-schedule">
            <h4
                style="
                color: white;
                font-family: 'Inter', sans-serif;
                margin-left: 3%;
                ">Ваше расписание
            </h4>
            <p  
                class="label"
                style="
                margin-bottom: 1%;
                color: white;
                font-family: 'Inter', sans-serif;
                margin-left: 3%;
                font-size: 13px;
                margin-top: -1%;
                ">Тип расписания
            </p>
            <button
                class="input_combobox"
                style="position: relative"
                aria-haspopup="true"
                aria-expanded="false"
                ;>
                <span
                    style="
                    position: relative;
                    text-align: left;
                    top: 0;
                    font-family: 'Inter', sans-serif;
                    margin-right: 90%;
                    color: white;
                    white-space: nowrap;
                    display: inline-block;
                    max-width: 100%;
                    ">Студент
                </span>
                <svg
                    style="
                        position: absolute;
                        right: 10px;
                        top: 50%;
                        transform: translateY(-50%);
                    "
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="white"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="m7 15 5 5 5-5"></path>
                    <path d="m7 9 5-5 5 5"></path>
                </svg>
            </button>
                <div id="scheduleTypeDropdown" class="dropdown hidden">
                    <button class="dropdown-option">Студент</button>
                    <button class="dropdown-option">По преподавателю</button>
                    <button class="dropdown-option">По аудитории</button>
                </div>
                <p
                    id="secondLabel"
                    style="
                    margin-bottom: 1%;
                    margin-top: 15px;
                    color: white;
                    font-family: 'Inter', sans-serif;
                    margin-left: 3%;
                    font-size: 13px;
                    ">
                    Группа
                </p>
            <button
                class="input_combobox"
                style="
                position: relative;
                background-color: black;
                color: white;
                text-align: left;
                ">
                <span
                    style="
                    position: relative;
                    left: 5px;
                    top: 0;
                    font-family: 'Inter', sans-serif;
                    "
                    >Выберите...
                </span>
                <svg
                    style="
                        position: absolute;
                        right: 10px;
                        top: 50%;
                        transform: translateY(-50%);
                    "
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="white"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="m7 15 5 5 5-5"></path>
                    <path d="m7 9 5-5 5 5"></path>
                </svg>
            </button>
            <div id="groupDropdown" class="dropdown hidden"></div>
        </div>
        <button class="button1 active" style="width: 40%;">Сохранить</button>
        </form>
        <a
        href="/auth/signin.html"
        class="button1 active"
        style="
            font-family: 'Inter', sans-serif;
            margin: auto;
            display: flex;
            position: absolute;
            top: 430px;
            left: 2%;
            width: 85%;
            height: 40px;
            border-radius: 20px;
            background-color: #3973d025;
            text-decoration: none;
            ">
        <svg
            style="margin-top: 8px; margin-left: 45%; margin-right: 15px"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColo"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-log-out w-4 h-4">
            4
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" x2="9" y1="12" y2="12"></line>
        </svg>
        <p style="margin-top: 12px">Выйти из аккаунта</p>
        </a>
    </div>
    <script>
        document
        .querySelectorAll(".head_button, .head_button1")
        .forEach((link) => {
            const currentPage = window.location.pathname.split("/").pop();
            const linkPage = link.getAttribute("href");

            if (linkPage === currentPage) {
            link.classList.add("active");
            }
        });
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
        // Элементы первого выпадающего списка
        const scheduleTypeBtn = document.querySelectorAll(".input_combobox")[0];
        const scheduleDropdown = document.getElementById(
        "scheduleTypeDropdown"
        );
        const scheduleLabel = scheduleTypeBtn.querySelector("span");

        // Элементы второго выпадающего списка
        const groupBtn = document.querySelectorAll(".input_combobox")[1];
        const groupDropdown = document.getElementById("groupDropdown");
        const groupLabel = groupBtn.querySelector("span");
        const secondLabel = document.getElementById("secondLabel");

        // Опции для второго выпадающего списка
        const optionsByType = {
        Студент: ["ИС-127", "ИС-128", "ИС-129"],
        "По преподавателю": ["Иванов", "Петров", "Сидоров"],
        "По аудитории": ["101", "202", "303"],
        };

        // Текущий тип расписания и текущая опция второго списка
        let currentType = "Студент";
        let currentGroupOption = null;

        // Функция для обновления второго выпадающего списка
        function updateGroupOptions(type) {
        console.log("Обновление второго списка для типа:", type);
          groupDropdown.innerHTML = ""; // Очищаем старые опции

            optionsByType[type].forEach((optionText) => {
            const btn = document.createElement("button");
            btn.className = "dropdown-option";
            btn.textContent = optionText;

            btn.addEventListener("click", function (e) {
            e.preventDefault();
            console.log("Выбрана опция второго списка:", optionText);
              groupLabel.textContent = optionText; // Обновляем текст
              currentGroupOption = optionText; // Сохраняем выбранную опцию
              groupDropdown.classList.add("hidden"); // Закрываем список
            });

            groupDropdown.appendChild(btn);
            });

          // Обновляем метку над вторым списком
            secondLabel.textContent = {
            Студент: "Группа",
            "По преподавателю": "Преподаватель",
            "По аудитории": "Аудитория",
            }[type];

          // Восстанавливаем предыдущую опцию, если она существует в новом списке
            if (
            currentGroupOption &&
            optionsByType[type].includes(currentGroupOption)
            ) {
            groupLabel.textContent = currentGroupOption;
            } else {
            groupLabel.textContent = "Выберите...";
            currentGroupOption = null; // Сбрасываем, если опция недоступна
            }
        }

        // Открытие первого выпадающего списка
        scheduleTypeBtn.addEventListener("click", function (e) {
            e.preventDefault();
            console.log("Клик по кнопке типа расписания");
            scheduleDropdown.classList.toggle("hidden");
            groupDropdown.classList.add("hidden");
        });

        // Открытие второго выпадающего списка
        groupBtn.addEventListener("click", function (e) {
            e.preventDefault();
            console.log("Клик по кнопке второго списка");
            groupDropdown.classList.toggle("hidden");
            scheduleDropdown.classList.add("hidden");
        });

        // Выбор опции в первом выпадающем списке
        scheduleDropdown
            .querySelectorAll(".dropdown-option")
            .forEach((option) => {
            option.addEventListener("click", function (e) {
                e.preventDefault();
                const selectedType = this.textContent;
                console.log("Выбран тип расписания:", selectedType);
              scheduleLabel.textContent = selectedType; // Обновляем текст
                scheduleDropdown.classList.add("hidden");
                currentType = selectedType;
              updateGroupOptions(selectedType); // Обновляем второй список
            });
            });

        // Закрытие списков при клике вне
        document.addEventListener("click", function (e) {
            if (
            !scheduleTypeBtn.contains(e.target) &&
            !scheduleDropdown.contains(e.target)
            ) {
            scheduleDropdown.classList.add("hidden");
            }
            if (
            !groupBtn.contains(e.target) &&
            !groupDropdown.contains(e.target)
            ) {
            groupDropdown.classList.add("hidden");
            }
        });

        // Инициализация
        console.log("Инициализация: установка Студент");
        scheduleLabel.textContent = "Студент";
        updateGroupOptions(currentType);
    });
    </script>
    </body>
</html>
